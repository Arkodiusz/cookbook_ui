(this.webpackJsonpcookbook_ui=this.webpackJsonpcookbook_ui||[]).push([[0],{26:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),r=n(21),a=n.n(r),s=(n(26),n(15)),o=n(5),l=n.n(o),j=n(8),u=n(4),d=n(11),b=n(10),h=n(1),p=function(){return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsxs)("div",{style:{width:80,display:"flex",justifyContent:"space-between"},children:[Object(h.jsx)(b.b,{to:"/",children:Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.f,{size:35})})}),Object(h.jsx)(b.b,{to:"/about",children:Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.g,{size:35})})})]}),Object(h.jsx)("h1",{children:"COOKBOOK"}),Object(h.jsx)("div",{style:{width:80}})]})},O=function(){return Object(h.jsx)("footer",{children:"2021 @ AJ"})},x=n.p+"static/media/default-img.b0520a1e.svg",v=n(14),f=function(e){var t=e.recipes;return null===t?Object(h.jsxs)("div",{className:"loaderContainer",children:[Object(h.jsx)("div",{className:"spinner",children:Object(h.jsx)(v.PacmanLoader,{size:25})}),Object(h.jsx)("h3",{children:"FETCHING DATA..."}),Object(h.jsx)("h4",{children:"please wait while backend is waking up..."})]}):Object(h.jsxs)("div",{className:"recipesContainer",children:[t.map((function(e){return Object(h.jsx)(b.b,{to:"/recipe/".concat(e.id),children:Object(h.jsxs)("div",{className:"recipesThumbnail",children:[Object(h.jsx)("img",{src:(n=e.imageUrl,void 0===n?x.toString():""!==n&&n.includes("http")?n:x.toString()),alt:""}),Object(h.jsxs)("div",{className:"recipesThumbnailBar",children:[Object(h.jsx)("h3",{children:e.name}),Object(h.jsxs)("div",{className:"recipesThumbnailBarBottom",children:[Object(h.jsxs)("h6",{children:["PORTIONS :\xa0\xa0",(t=e.portions,0===t?"?":t>10?"> 10":t)]}),Object(h.jsxs)("h6",{children:["PREP.\xa0\xa0TIME :\xa0\xa0",""===e.time?"?":e.time]})]})]}),e.isDefault?Object(h.jsx)("div",{id:"defaultWatermark",style:{top:-2},children:"DEFAULT RECIPE"}):Object(h.jsx)(h.Fragment,{})]})},e.id);var t,n})),Object(h.jsx)(b.b,{to:"/form",children:Object(h.jsx)("div",{className:"recipesThumbnailAdd",children:Object(h.jsx)(d.a,{id:"addIcon",size:50})})})]})},m=n(3),g=function(){return Object(h.jsxs)("div",{id:"about",children:[Object(h.jsx)("h3",{children:"Welcome to my CookBook App"}),Object(h.jsxs)("div",{children:["text",Object(h.jsx)("br",{}),"text",Object(h.jsx)("br",{}),"more text",Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("a",{href:"https://www.freepik.com/vectors/food",children:"Logo & default image vector created by freepik - www.freepik.com"})]})]})},N=n(58),k=function(e){var t=e.extractedRecipeId,n=e.recipeIsDefault,i=Object(c.useState)(null),r=Object(u.a)(i,2),a=r[0],o=r[1],b=Object(c.useState)(!1),p=Object(u.a)(b,2),O=p[0],x=p[1],f=Object(c.useState)(0),m=Object(u.a)(f,2),g=m[0],k=m[1],C=Object(c.useState)(""),y=Object(u.a)(C,2),E=y[0],w=y[1],P=Object(c.useState)(""),S=Object(u.a)(P,2),T=S[0],D=S[1],I=Object(c.useState)(""),U=Object(u.a)(I,2),L=U[0],A=U[1],z=t;Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://bcookbook.herokuapp.com/recipes/".concat(z,"/ingredients"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log("fetched ingredients",n),o(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then()}),[z]);var B=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=F()).name){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("https://bcookbook.herokuapp.com/recipes/".concat(z,"/ingredients"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 5:return n=e.sent,console.log("saved ingredient",t),G(),x(!1),e.next=11,n.json();case 11:c=e.sent,o([].concat(Object(s.a)(a),[c]));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,c,i,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(n=F()).name){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("https://bcookbook.herokuapp.com/recipes/".concat(z,"/ingredients/").concat(t),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(n)});case 5:return c=e.sent,e.next=8,c.json();case 8:i=e.sent,r=a.indexOf(a.find((function(e){return e.id===t}))),(s=a)[r]=i,o(s),console.log("edited ingredient =>",i),G(),k(0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return alert("You can't delete ingredients of default recipe"),e.abrupt("return");case 3:if(window.confirm("Are you sure you wish to delete this item?")){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch("https://bcookbook.herokuapp.com/recipes/".concat(z,"/ingredients/").concat(t),{method:"DELETE"});case 7:200===e.sent.status?o(a.filter((function(e){return e.id!==t}))):alert("Error Deleting This Ingredient"),console.log("deleted ingredient id =>",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function F(){return""===E||""===T||""===L||"unit"===L?(alert("Please fill all inputs"),{name:""}):parseFloat(T)>1e3?(alert("Quantity max value is 1000"),{name:""}):{name:E,quantity:T,unit:L}}function G(){w(""),D(""),A("")}function q(e){console.log(e.key),["e","+","-"].includes(e.key)&&e.preventDefault()}return null===a?Object(h.jsx)("div",{className:"loaderContainer",children:Object(h.jsx)("div",{className:"spinner",children:Object(h.jsx)(v.PacmanLoader,{size:25})})}):Object(h.jsxs)("div",{className:"ingredientsTableContainer",children:[Object(h.jsx)("h3",{children:"INGREDIENTS:"}),Object(h.jsxs)("table",{children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"NAME"}),Object(h.jsx)("th",{children:"QUANTITY"}),Object(h.jsx)("th",{children:"UNIT"}),Object(h.jsx)("th",{children:"OPTIONS"})]})}),Object(h.jsxs)("tbody",{children:[a.map((function(e){return g!==e.id?Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:e.quantity}),Object(h.jsx)("td",{children:e.unit.toLowerCase()}),Object(h.jsxs)("td",{className:"ingredientsSetupColumn",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.e,{size:25,onClick:function(){return function(e){n?alert("You can't edit ingredients of default recipe"):(x(!1),w(e.name),D(e.quantity),A(e.unit),k(e.id))}(e)}})}),Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.d,{size:25,onClick:function(){return R(e.id)}})})]})]},e.id):Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("input",{maxLength:"32",type:"text",placeholder:"name",value:E,onChange:function(e){return w(e.target.value)}})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"number",placeholder:"quantity",value:T,onKeyDown:function(e){return q(e)},onChange:function(e){return D(e.target.value.replace(",","."))}})}),Object(h.jsx)("td",{children:Object(h.jsxs)("select",{name:"newUnit",value:L,onChange:function(e){return A(e.target.value)},children:[Object(h.jsx)("option",{value:"",children:"unit"}),Object(h.jsx)("option",{value:"G",children:"g"}),Object(h.jsx)("option",{value:"DAG",children:"dag"}),Object(h.jsx)("option",{value:"KG",children:"kg"}),Object(h.jsx)("option",{value:"ML",children:"ml"}),Object(h.jsx)("option",{value:"L",children:"l"}),Object(h.jsx)("option",{value:"TEASPOON",children:"teaspoon"}),Object(h.jsx)("option",{value:"TABLESPOON",children:"tablespoon"}),Object(h.jsx)("option",{value:"PINCH",children:"pinch"}),Object(h.jsx)("option",{value:"HANDFUL",children:"handful"}),Object(h.jsx)("option",{value:"PIECE",children:"piece"}),Object(h.jsx)("option",{value:"CUP",children:"cup"})]})}),Object(h.jsxs)("td",{className:"ingredientsSetupColumn",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.c,{size:25,onClick:function(){return M(e.id)}})}),Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.b,{size:25,onClick:function(){k(0),G()}})})]})]},e.id)})),O?Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("input",{maxLength:"32",type:"text",placeholder:"name",value:E,onChange:function(e){return w(e.target.value)}})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"number",placeholder:"quantity",value:T,onKeyDown:function(e){return q(e)},onChange:function(e){return D(e.target.value.replace(",","."))}})}),Object(h.jsx)("td",{children:Object(h.jsxs)("select",{value:L,onChange:function(e){return A(e.target.value)},children:[Object(h.jsx)("option",{value:"",children:"unit"}),Object(h.jsx)("option",{value:"G",children:"g"}),Object(h.jsx)("option",{value:"DAG",children:"dag"}),Object(h.jsx)("option",{value:"KG",children:"kg"}),Object(h.jsx)("option",{value:"ML",children:"ml"}),Object(h.jsx)("option",{value:"L",children:"l"}),Object(h.jsx)("option",{value:"TEASPOON",children:"teaspoon"}),Object(h.jsx)("option",{value:"TABLESPOON",children:"tablespoon"}),Object(h.jsx)("option",{value:"PINCH",children:"pinch"}),Object(h.jsx)("option",{value:"HANDFUL",children:"handful"}),Object(h.jsx)("option",{value:"PIECE",children:"piece"}),Object(h.jsx)("option",{value:"CUP",children:"cup"})]})}),Object(h.jsxs)("td",{className:"ingredientsSetupColumn",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.c,{size:25,onClick:function(){return B()}})}),Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.b,{size:25,onClick:function(){G(),x(!1)}})})]})]}):Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{}),Object(h.jsx)("td",{}),Object(h.jsx)("td",{}),Object(h.jsx)("td",{className:"ingredientsSetupColumn",children:Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(N.a,{size:25,onClick:function(){n?alert("You can't add ingredients to default recipe"):(k(0),G(),x(!0))}})})})]})]})]})]})},C=function(e){var t=e.description,n=e.editMode,i=e.onEnableEditMode,r=e.onDisableEditMode,a=e.onUpdate,s=Object(c.useState)(""),o=Object(u.a)(s,2),l=o[0],j=o[1];return n?Object(h.jsxs)("div",{className:"prepDescriptionInput",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.c,{size:30,onClick:function(){a(l),j("")}})}),Object(h.jsx)("h3",{children:"PREPARATION:"}),Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.b,{size:30,onClick:function(){r(),j("")}})})]}),Object(h.jsx)("textarea",{maxLength:"4000",className:"prepDescriptionTextarea",placeholder:"preparation description",value:l,onChange:function(e){return j(e.target.value)}})]}):Object(h.jsxs)("div",{className:"prepDescription",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.e,{size:30,onClick:function(){i(),j(t)}})}),Object(h.jsx)("h3",{children:"PREPARATION:"}),Object(h.jsx)("div",{style:{width:30}})]}),"\u2003",t]})},y=function(e){var t,n=e.recipe,i=e.editMode,r=e.onEnableEditMode,a=e.onDisableEditMode,s=e.onUpdate,o=e.onDelete,l=Object(c.useState)(""),j=Object(u.a)(l,2),b=j[0],p=j[1],O=Object(c.useState)(""),v=Object(u.a)(O,2),f=v[0],m=v[1],g=Object(c.useState)(""),N=Object(u.a)(g,2),k=N[0],C=N[1],y=Object(c.useState)(""),E=Object(u.a)(y,2),w=E[0],P=E[1];function S(e){return void 0===e?x.toString():""!==e&&e.includes("http")?e:x.toString()}function T(){p(""),m(""),C(""),P("")}return i?Object(h.jsxs)("div",{className:"recipePictureContainer",children:[Object(h.jsx)("img",{src:S(f),alt:""}),Object(h.jsxs)("div",{className:"recipePictureContainerTopBar",children:[Object(h.jsxs)("div",{className:"recipePictureContainerTopBarEditBox",children:[Object(h.jsx)("div",{className:"icon",style:{color:"white"},children:Object(h.jsx)(d.c,{size:30,onClick:function(){""!==b?b!==n.name||f!==n.imageUrl||k!==n.portions||w!==n.time?(s({name:b,imageUrl:f,portions:""===k?"0":k,time:""===w?"?":w}),T()):alert("Notching changed"):alert("Name input can't be empty")}})}),Object(h.jsx)("div",{className:"icon",style:{color:"white"},children:Object(h.jsx)(d.b,{size:30,onClick:function(){a(),T()}})})]}),Object(h.jsx)("input",{maxLength:"32",type:"text",placeholder:"name",value:b,onChange:function(e){return p(e.target.value)}}),Object(h.jsx)("div",{className:"recipePictureContainerTopBarDeleteBox",children:Object(h.jsx)("div",{className:"icon",style:{color:"white"},children:Object(h.jsx)(d.d,{size:30,onClick:function(){return o(n.id)}})})})]}),Object(h.jsx)("input",{maxLength:"255",id:"recipeImgUrlInput",type:"text",placeholder:"imageUrl",value:f,onChange:function(e){return m(e.target.value)}}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"recipePictureContainerEditBox",children:[Object(h.jsx)("h5",{children:"PORTIONS :\u2002"}),Object(h.jsxs)("select",{value:k,onChange:function(e){return C(e.target.value)},children:[Object(h.jsx)("option",{value:"0",children:"?"}),Object(h.jsx)("option",{value:"1",children:"1"}),Object(h.jsx)("option",{value:"2",children:"2"}),Object(h.jsx)("option",{value:"3",children:"3"}),Object(h.jsx)("option",{value:"4",children:"4"}),Object(h.jsx)("option",{value:"5",children:"5"}),Object(h.jsx)("option",{value:"6",children:"6"}),Object(h.jsx)("option",{value:"7",children:"7"}),Object(h.jsx)("option",{value:"8",children:"8"}),Object(h.jsx)("option",{value:"9",children:"9"}),Object(h.jsx)("option",{value:"10",children:"10"}),Object(h.jsx)("option",{value:"11",children:"> 10"})]})]}),Object(h.jsxs)("div",{className:"recipePictureContainerEditBox",children:[Object(h.jsx)("h5",{children:"PREP.\u2002TIME :\u2002"}),Object(h.jsxs)("select",{value:w,onChange:function(e){return P(e.target.value)},children:[Object(h.jsx)("option",{value:"?",children:"?"}),Object(h.jsx)("option",{value:"5 min",children:"5 min"}),Object(h.jsx)("option",{value:"10 min",children:"10 min"}),Object(h.jsx)("option",{value:"15 min",children:"15 min"}),Object(h.jsx)("option",{value:"30 min",children:"30 min"}),Object(h.jsx)("option",{value:"45 min",children:"45 min"}),Object(h.jsx)("option",{value:"1 h",children:"1 h"}),Object(h.jsx)("option",{value:"1,5 h",children:"1,5 h"}),Object(h.jsx)("option",{value:"2 h",children:"2 h"}),Object(h.jsx)("option",{value:"3 h",children:"3 h"}),Object(h.jsx)("option",{value:"> 4 h",children:"> 4 h"})]})]})]})]}):Object(h.jsxs)("div",{className:"recipePictureContainer",children:[Object(h.jsx)("img",{src:S(n.imageUrl),alt:""}),Object(h.jsxs)("div",{className:"recipePictureContainerTopBar",children:[Object(h.jsx)("div",{className:"recipePictureContainerTopBarEditBox",children:Object(h.jsx)("div",{className:"icon",style:{color:"white"},children:Object(h.jsx)(d.e,{size:30,onClick:function(){r(),p(n.name),m(n.imageUrl),C(n.portions),P(n.time)}})})}),Object(h.jsx)("h2",{children:n.name}),Object(h.jsx)("div",{className:"recipePictureContainerTopBarDeleteBox",children:Object(h.jsx)("div",{className:"icon",style:{color:"white"},children:Object(h.jsx)(d.d,{size:30,onClick:function(){return o()}})})})]}),n.isDefault?Object(h.jsx)("div",{id:"defaultWatermark",children:"DEFAULT RECIPE"}):Object(h.jsx)(h.Fragment,{}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("h5",{children:["PORTIONS :\u2002",(t=n.portions,0===t?"?":t>10?"> 10":t)]}),Object(h.jsxs)("h5",{children:["PREP.\u2002TIME :\u2002",function(e){return""===e?"?":e>10?"> 4 h":e}(n.time)]})]})]})},E=function(e){var t=e.onDelete,n=e.onUpdate,i=Object(c.useState)(null),r=Object(u.a)(i,2),a=r[0],s=r[1],o=Object(c.useState)(!1),d=Object(u.a)(o,2),b=d[0],p=d[1],O=Object(c.useState)(!1),x=Object(u.a)(O,2),f=x[0],g=x[1],N=Object(m.f)(),E=Object(m.e)().pathname.split("/").pop();Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://bcookbook.herokuapp.com/recipes/".concat(E));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log("fetched recipe =>",n),s(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then()}),[E]);var w=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isDefault){e.next=3;break}return alert("You can't delete default recipes"),e.abrupt("return");case 3:if(window.confirm("Are you sure you wish to delete this item?")){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch("https://bcookbook.herokuapp.com/recipes/".concat(E),{method:"DELETE"});case 7:if(200===e.sent.status){e.next=11;break}return alert("Error Deleting This Recipe"),e.abrupt("return");case 11:return e.next=13,t(E);case 13:N("/",{replace:!0}),console.log("deleted recipe id =>",E);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(j.a)(l.a.mark((function e(t){var c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://bcookbook.herokuapp.com/recipes",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 2:return c=e.sent,e.next=5,c.json();case 5:return i=e.sent,s(i),console.log("edited recipe =>",i),e.next=10,n(i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:a.id,name:t.name,imageUrl:t.imageUrl,portions:""===t.portions?"0":t.portions,time:""===t.time?"?":t.time,preparation:a.preparation},e.next=3,P(n);case 3:p(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:E,name:a.name,imageUrl:a.imageUrl,portions:a.portions,time:a.time,preparation:t},e.next=3,P(n);case 3:g(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null===a?Object(h.jsx)("div",{className:"loaderContainer",children:Object(h.jsx)("div",{className:"spinner",children:Object(h.jsx)(v.PacmanLoader,{size:25})})}):Object(h.jsxs)("div",{className:"recipe",children:[Object(h.jsx)(y,{recipe:a,editMode:b,onEnableEditMode:function(){a.isDefault?alert("You can't edit default recipes"):p(!0)},onDisableEditMode:function(){return p(!1)},onUpdate:function(e){return S(e)},onDelete:function(){return w()}}),Object(h.jsx)(k,{extractedRecipeId:E,recipeIsDefault:a.isDefault}),Object(h.jsx)(C,{description:a.preparation,editMode:f,onEnableEditMode:function(){a.isDefault?alert("You can't edit default recipes"):g(!0)},onDisableEditMode:function(){return g(!1)},onUpdate:function(e){return T(e)}})]})},w=function(e){var t,n=e.onSubmit,i=Object(c.useState)(""),r=Object(u.a)(i,2),a=r[0],o=r[1],p=Object(c.useState)(""),O=Object(u.a)(p,2),v=O[0],f=O[1],g=Object(c.useState)(""),N=Object(u.a)(g,2),k=N[0],C=N[1],y=Object(c.useState)(""),E=Object(u.a)(y,2),w=E[0],P=E[1],S=Object(c.useState)(""),T=Object(u.a)(S,2),D=T[0],I=T[1],U=Object(c.useState)(""),L=Object(u.a)(U,2),A=L[0],z=L[1],B=Object(c.useState)(""),M=Object(u.a)(B,2),R=M[0],F=M[1],G=Object(c.useState)(""),q=Object(u.a)(G,2),J=q[0],K=q[1],Y=Object(c.useState)([]),H=Object(u.a)(Y,2),Q=H[0],W=H[1],_=Object(m.f)(),V=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a){e.next=3;break}return alert("Please fill at least name input"),e.abrupt("return");case 3:return t={name:a,imageUrl:v,portions:""===k?"0":k,time:""===w?"?":w,preparation:D,isDefault:!1},e.next=6,n(t,Q);case 6:_("/",{replace:!0});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function X(){z(""),F(""),K("")}return Object(h.jsxs)("div",{className:"formContainer",children:[Object(h.jsx)("h2",{children:"RECIPE ADD FORM"}),Object(h.jsx)("br",{}),Object(h.jsx)("h3",{children:"INFO:"}),Object(h.jsxs)("div",{className:"formInput",children:[Object(h.jsx)("label",{children:"Name:"}),Object(h.jsx)("input",{maxLength:"32",type:"text",placeholder:"name",value:a,onChange:function(e){return o(e.target.value)}})]}),Object(h.jsxs)("div",{className:"formInput",children:[Object(h.jsx)("label",{children:"Image URL:"}),Object(h.jsx)("input",{maxLength:"255",type:"text",placeholder:"imageUrl",value:v,onChange:function(e){return f(e.target.value)}})]}),Object(h.jsx)("img",{id:"imagePreview",src:(t=v,void 0===t?x.toString():""!==t&&t.includes("http")?t:x.toString()),alt:""}),Object(h.jsxs)("div",{className:"formInput",children:[Object(h.jsx)("label",{children:"Portions:"}),Object(h.jsxs)("select",{value:k,onChange:function(e){return C(e.target.value)},children:[Object(h.jsx)("option",{value:"0",children:"?"}),Object(h.jsx)("option",{value:"1",children:"1"}),Object(h.jsx)("option",{value:"2",children:"2"}),Object(h.jsx)("option",{value:"3",children:"3"}),Object(h.jsx)("option",{value:"4",children:"4"}),Object(h.jsx)("option",{value:"5",children:"5"}),Object(h.jsx)("option",{value:"6",children:"6"}),Object(h.jsx)("option",{value:"7",children:"7"}),Object(h.jsx)("option",{value:"8",children:"8"}),Object(h.jsx)("option",{value:"9",children:"9"}),Object(h.jsx)("option",{value:"10",children:"10"}),Object(h.jsx)("option",{value:"11",children:"> 10"})]})]}),Object(h.jsxs)("div",{className:"formInput",children:[Object(h.jsx)("label",{children:"Preparation time:"}),Object(h.jsxs)("select",{value:w,onChange:function(e){return P(e.target.value)},children:[Object(h.jsx)("option",{value:"?",children:"?"}),Object(h.jsx)("option",{value:"5 min",children:"5 min"}),Object(h.jsx)("option",{value:"10 min",children:"10 min"}),Object(h.jsx)("option",{value:"15 min",children:"15 min"}),Object(h.jsx)("option",{value:"30 min",children:"30 min"}),Object(h.jsx)("option",{value:"45 min",children:"45 min"}),Object(h.jsx)("option",{value:"1 h",children:"1 h"}),Object(h.jsx)("option",{value:"1,5 h",children:"1,5 h"}),Object(h.jsx)("option",{value:"2 h",children:"2 h"}),Object(h.jsx)("option",{value:"3 h",children:"3 h"}),Object(h.jsx)("option",{value:"> 4 h",children:"> 4 h"})]})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{id:"formDescription",children:[Object(h.jsx)("h3",{children:"PREPARATION:"}),Object(h.jsx)("textarea",{maxLength:"4000",className:"prepDescriptionTextarea",placeholder:"preparation description",value:D,onChange:function(e){return I(e.target.value)}})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"ingredientsTableContainer",children:[Object(h.jsx)("h3",{children:"INGREDIENTS:"}),Object(h.jsxs)("table",{children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"NAME"}),Object(h.jsx)("th",{children:"QUANTITY"}),Object(h.jsx)("th",{children:"UNIT"}),Object(h.jsx)("th",{children:"OPTIONS"})]})}),Object(h.jsxs)("tbody",{children:[Q.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:e.quantity}),Object(h.jsx)("td",{children:e.unit}),Object(h.jsx)("td",{children:Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.d,{size:25,onClick:function(){return function(e){var t=Q.filter((function(t){return t!==e}));W(t)}(e)}})})})]},e.id)})),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("input",{maxLength:"32",type:"text",placeholder:"name",value:A,onChange:function(e){return z(e.target.value)}})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"number",placeholder:"quantity",value:R,onKeyDown:function(e){return function(e){console.log(e.key),["e","+","-"].includes(e.key)&&e.preventDefault()}(e)},onChange:function(e){return F(e.target.value.replace(",","."))}})}),Object(h.jsx)("td",{children:Object(h.jsxs)("select",{value:J,onChange:function(e){return K(e.target.value)},children:[Object(h.jsx)("option",{value:"",children:"unit"}),Object(h.jsx)("option",{value:"G",children:"g"}),Object(h.jsx)("option",{value:"DAG",children:"dag"}),Object(h.jsx)("option",{value:"KG",children:"kg"}),Object(h.jsx)("option",{value:"ML",children:"ml"}),Object(h.jsx)("option",{value:"L",children:"l"}),Object(h.jsx)("option",{value:"TEASPOON",children:"teaspoon"}),Object(h.jsx)("option",{value:"TABLESPOON",children:"tablespoon"}),Object(h.jsx)("option",{value:"PINCH",children:"pinch"}),Object(h.jsx)("option",{value:"HANDFUL",children:"handful"}),Object(h.jsx)("option",{value:"PIECE",children:"piece"}),Object(h.jsx)("option",{value:"CUP",children:"cup"})]})}),Object(h.jsxs)("td",{className:"ingredientsSetupColumn",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.c,{size:25,onClick:function(){!function(){if(""!==A&&""!==R&&""!==J&&"unit"!==J){if(parseFloat(R)>1e3)return alert("Quantity max value is 1000"),"";var e={name:A,quantity:R,unit:J};W([].concat(Object(s.a)(Q),[e])),console.log(Q),X()}else alert("Please fill inputs of new ingredient")}()}})}),Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.b,{size:25,onClick:function(){return X()}})})]})]})]})]})]}),Object(h.jsxs)("div",{id:"formOptions",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.c,{size:40,onClick:function(){return V()}})}),Object(h.jsx)(b.b,{to:"/",children:Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.b,{size:40})})})]})]})};var P=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],i=t[1];Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://bcookbook.herokuapp.com/recipes");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log("fetched recipes =>",n),i(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then()}),[]);var r=function(){var e=Object(j.a)(l.a.mark((function e(t,c){var r,a,o,j,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://bcookbook.herokuapp.com/recipes",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,i([].concat(Object(s.a)(n),[a])),o=a.id,e.next=10,fetch("https://bcookbook.herokuapp.com/recipes/".concat(o,"/ingredients/list"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(c)});case 10:return j=e.sent,e.next=13,j.json();case 13:u=e.sent,console.log("saved recipe =>",a),console.log("saved ingredients =>",u);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(n.filter((function(e){return e.id.toString()!==t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(l.a.mark((function e(t){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.indexOf(n.find((function(e){return e.id===t.id}))),(r=n)[c]=t,i(r),console.log("recipes updated");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(b.a,{hashType:"slash",children:Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(p,{}),Object(h.jsxs)(m.c,{children:[Object(h.jsx)(m.a,{path:"/",element:Object(h.jsx)(f,{recipes:n})}),Object(h.jsx)(m.a,{path:"/recipe/:id",element:Object(h.jsx)(E,{onDelete:function(e){return a(e)},onUpdate:function(e){return o(e)}})}),Object(h.jsx)(m.a,{path:"/form",element:Object(h.jsx)(w,{onSubmit:function(e,t){return r(e,t)}})}),Object(h.jsx)(m.a,{path:"/about",element:Object(h.jsx)(g,{})})]}),Object(h.jsx)(O,{})]})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(P,{})}),document.getElementById("root")),S()}},[[57,1,2]]]);
//# sourceMappingURL=main.263f142d.chunk.js.map